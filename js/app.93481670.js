(function(e){function t(t){for(var n,s,i=t[0],c=t[1],l=t[2],u=0,p=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var c=r[i];0!==o[c]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},o={app:0},a=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-data-table/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("85ec"),o=r.n(n);o.a},2930:function(e,t,r){e.exports=r.p+"img/close.377222ae.svg"},5089:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Header",[r("Button",{attrs:{isDisabled:e.buttonDisabled},on:{"button-click":e.setRecords}},[e._v("Показать пользователей")])],1),e.loading?r("Loader"):e._e(),e.errored?r("Error",[e._v("Произошла ошибка: "+e._s(e.errorMessage))]):e._e(),e.tableShown?r("DataTable",{attrs:{recordsProp:e.records,columnsProp:e.columns},on:{"record-click":e.showOpenedRecord}}):e._e(),e.popupShown?r("Overlay",{on:{"overlay-click":e.togglePopup}}):e._e(),e.popupShown?r("Popup",{on:{"close-click":e.togglePopup}},e._l(e.popupFields,(function(t){return r("p",{key:"popup"+e.popupFields.indexOf(t)},[e._v(" "+e._s(t.name+": "+e.openedRecord[t.dataProp])+" ")])})),0):e._e()],1)},a=[],s=(r("d3b7"),r("bc3a")),i=r.n(s),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"popup"},[n("div",{staticClass:"popup__content"},[e._t("default")],2),n("img",{staticClass:"popup__close",attrs:{src:r("2930"),alt:"close image"},on:{click:function(t){return e.$emit("close-click")}}})])},l=[],d={props:{record:Object}},u=d,p=(r("f497"),r("2877")),f=Object(p["a"])(u,c,l,!1,null,"12f115f0",null),h=f.exports,_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"error"},[e._t("default")],2)},b=[],g={},m=g,v=(r("fd28"),Object(p["a"])(m,_,b,!1,null,"f8475f2e",null)),P=v.exports,y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.shownRecords.length?r("div",{ref:"start",staticClass:"table"},[r("form",{staticClass:"table__searchbar",on:{submit:function(t){return t.preventDefault(),e.submitSearch(e.search)}}},[r("label",{staticClass:"table__input-label",attrs:{for:"search"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"table__input",attrs:{placeholder:"Введите поисковый запрос",type:"text",required:"",spellcheck:"false"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),r("button",{staticClass:"table__searchbar-button"},[e._v("Найти")]),r("button",{staticClass:"table__searchbar-button",attrs:{type:"button"},on:{click:e.resetSearch}},[e._v("Сбросить")])]),e.error?r("p",{staticClass:"table__error"},[e._v(e._s(e.error))]):e._e(),r("table",{class:["table__container",{table__container_invisible:e.error}]},[r("thead",[r("tr",{staticClass:"table__header-row"},e._l(e.columnHeadings,(function(t){return r("th",{key:e.columnHeadings.indexOf(t),staticClass:"table__header-cell",class:["table__header-cell",{"table__header-cell_sorted":t.isSorted}],on:{click:function(r){return e.handleSort(t)}}},[e._v(" "+e._s(t.name)+" "),!t.isSorted||t.sortedUp?r("span",{staticClass:"table__sort-icon"},[e._v("↑")]):r("span",{staticClass:"table__sort-icon"},[e._v("↓")])])})),0)]),e.error?e._e():r("tbody",e._l(e.shownRecords,(function(t){return r("tr",{key:t.id,staticClass:"table__body-row",on:{click:function(r){return e.$emit("record-click",t)}}},e._l(e.columnHeadings,(function(n){return r("td",{key:e.columnHeadings.indexOf(n)+"x"+t.id,staticClass:"table__body-cell"},[e._v(" "+e._s(t[n.dataProp])+" ")])})),0)})),0),r("tr",{staticClass:"table__body-row table__body-row_invisible"},e._l(e.longestStrings,(function(t){return r("td",{key:"ghost"+e.longestStrings.indexOf(t),staticClass:"table__body-cell table__body-cell_invisible"},[e._v(" "+e._s(t+e.compensateString)+" ")])})),0)]),e.error?e._e():r("div",{staticClass:"table__pagination"},[r("button",{class:["table__pagination-element","table__pagination-element_type_arrow",{"table__pagination-element_disabled":e.isFirstPage}],on:{click:e.toFirstPage}},[e._v(" « ")]),r("button",{class:["table__pagination-element","table__pagination-element_type_arrow",{"table__pagination-element_disabled":e.isFirstPage}],on:{click:e.prevPage}},[e._v(" ‹ ")]),r("button",{staticClass:"table__pagination-element"},[e._v(" "+e._s(e.indexFrom+1+" - "+e.indexTo+" из "+e.records.length)+" ")]),r("button",{class:["table__pagination-element","table__pagination-element_type_arrow",{"table__pagination-element_disabled":e.isLastPage}],on:{click:e.toNextPage}},[e._v(" › ")]),r("button",{class:["table__pagination-element","table__pagination-element_type_arrow",{"table__pagination-element_disabled":e.isLastPage}],on:{click:e.toLastPage}},[e._v(" » ")])])]):e._e()},w=[],x=(r("4de4"),r("4160"),r("caad"),r("d81d"),r("13d5"),r("fb6a"),r("ac1f"),r("2532"),r("841c"),r("159b"),r("53ca")),k={props:{recordsProp:Array,columnsProp:Array},data:function(){return{records:this.recordsProp,recordsBuffer:[],columnHeadings:this.columnsProp,longestStrings:[],recordsPerPage:5,indexFrom:0,search:"",error:"",compensateString:"___"}},computed:{shownRecords:function(){return this.records.slice(this.indexFrom,this.indexFrom+this.recordsPerPage)},isLastPage:function(){return this.indexFrom+this.recordsPerPage>=this.records.length},isFirstPage:function(){return 0===this.indexFrom},indexTo:function(){var e=this.indexFrom+this.recordsPerPage;return e>this.records.length?this.records.length:e}},created:function(){var e=this,t=this.records.map((function(t){return e.flattenObject(t)}));this.records=t,this.recordsBuffer=t,this.longestStrings=this.columnHeadings.map((function(t){return e.recordsBuffer.reduce((function(e,r){return r[t.dataProp].length>e.length?r[t.dataProp]:e}),"")})),this.columnHeadings.map((function(e){e.isSorted=!1,e.sortedUp=!1}))},methods:{handleToStartClick:function(){this.indexFrom=0},toNextPage:function(){this.isLastPage||(this.indexFrom+=this.recordsPerPage)},prevPage:function(){this.isFirstPage||(this.indexFrom-=this.recordsPerPage)},toFirstPage:function(){this.indexFrom=0},toLastPage:function(){this.indexFrom=this.records.length%this.recordsPerPage?Math.floor(this.records.length/this.recordsPerPage)*this.recordsPerPage:this.records.length-this.recordsPerPage},submitSearch:function(e){this.error="";var t=this.recordsBuffer,r=t.filter((function(t){var r=String(e),n=!1;for(var o in t){var a=String(t[o]);if(a.includes(r)){n=!0;break}}return n}));r.length?this.records=r:this.showNoResults()},showNoResults:function(){this.error="По данному запросу ничего не найдено"},resetSearch:function(){this.search="",this.error="",this.records=this.recordsBuffer},setIndexFrom:function(e){this.indexFrom=(e-1)*this.recordsPerPage,this.$refs.start.scrollIntoView({behavior:"smooth"})},resetIndexFrom:function(){this.indexFrom=0},diveObject:function(e,t,r){for(var n in t){var o=n,a=t[n];e.length>0&&(o=e+"."+n),"object"===Object(x["a"])(a)?this.diveObject(o,a,r):r[o]=a}},flattenObject:function(e){var t={};return this.diveObject("",e,t),t},handleSort:function(e){this.toFirstPage(),this.resetIndexFrom();var t=e.dataProp,r=e.sortedUp?-1:1;this.records.sort((function(e,n){var o=e[t],a=n[t];return"string"===typeof o&&(o=o.toLowerCase(),a=a.toLowerCase()),o>a?r:o<a?-1*r:0})),this.columnHeadings.forEach((function(e){e.dataProp===t?(e.sortedUp=!e.sortedUp,e.isSorted=!0):(e.isSorted=!1,e.sortedUp=!1)}))}}},S=k,O=(r("a0f9"),Object(p["a"])(S,y,w,!1,null,"1e2af337",null)),C=O.exports,F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[r("div",{staticClass:"header__container"},[r("p",{staticClass:"header__logo",attrs:{href:"#"}},[e._v("vue-data-table")]),r("nav",{staticClass:"header__nav"},[e._t("default")],2)])])},j=[],E={},L=E,$=(r("a53f"),Object(p["a"])(L,F,j,!1,null,"3ef96c3a",null)),R=$.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"gradient-loader"})},H=[],N={},B=N,M=(r("dceb"),Object(p["a"])(B,D,H,!1,null,"17bf75fd",null)),T=M.exports,U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{class:["button",{button_disabled:e.isDisabled}],attrs:{disabled:e.isDisabled},on:{click:function(t){return e.$emit("button-click")}}},[e._t("default")],2)},A=[],I={props:{isDisabled:Boolean}},q=I,J=(r("7a6c"),Object(p["a"])(q,U,A,!1,null,"48a56291",null)),z=J.exports,V=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"overlay",on:{click:function(t){return e.$emit("overlay-click")}}})},Z=[],G={},K=G,Q=(r("dc1c"),Object(p["a"])(K,V,Z,!1,null,"9e64201e",null)),W=Q.exports,X="https://jsonplaceholder.typicode.com/users",Y={components:{Error:P,DataTable:C,Button:z,Overlay:W,Header:R,Loader:T,Popup:h},data:function(){return{records:[],columns:[{name:"Name",dataProp:"name"},{name:"Username",dataProp:"username"},{name:"Street",dataProp:"address.street"},{name:"Email",dataProp:"email"},{name:"Latitude",dataProp:"address.geo.lat"},{name:"Longitude",dataProp:"address.geo.lng"}],popupFields:[{name:"Name",dataProp:"name"},{name:"Username",dataProp:"username"},{name:"Email",dataProp:"email"},{name:"Street",dataProp:"address.street"},{name:"City",dataProp:"address.city"},{name:"Zipcode",dataProp:"address.zipcode"},{name:"Latitude",dataProp:"address.geo.lat"},{name:"Longitude",dataProp:"address.geo.lng"}],popupShown:!1,loading:!1,buttonDisabled:!1,tableShown:!1,errored:!1,errorMessage:"",openedRecord:{}}},methods:{togglePopup:function(){this.popupShown=!this.popupShown},showOpenedRecord:function(e){this.togglePopup(),this.openedRecord=e},setRecords:function(){var e=this;this.errored=!1,this.loading=!0,this.buttonDisabled=!0,this.tableShown=!1,i.a.get(X).then((function(t){e.records=t.data,e.tableShown=!0})).catch((function(t){e.errored=!0,e.errorMessage=t.message})).finally((function(){e.loading=!1,e.buttonDisabled=!1}))}},created:function(){var e=this,t=function(t){27===t.keyCode&&(e.popupShown=!1)};document.addEventListener("keydown",t),this.$once("hook:destroyed",(function(){document.removeEventListener("keydown",t)}))}},ee=Y,te=(r("034f"),Object(p["a"])(ee,o,a,!1,null,null,null)),re=te.exports,ne=r("9483");Object(ne["a"])("".concat("/vue-data-table/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(re)}}).$mount("#app")},"76b3":function(e,t,r){},"7a6c":function(e,t,r){"use strict";var n=r("a7d5"),o=r.n(n);o.a},"825c":function(e,t,r){},"85ec":function(e,t,r){},a0f9:function(e,t,r){"use strict";var n=r("76b3"),o=r.n(n);o.a},a53f:function(e,t,r){"use strict";var n=r("825c"),o=r.n(n);o.a},a7d5:function(e,t,r){},cb70:function(e,t,r){},dc1c:function(e,t,r){"use strict";var n=r("cb70"),o=r.n(n);o.a},dceb:function(e,t,r){"use strict";var n=r("f578"),o=r.n(n);o.a},f497:function(e,t,r){"use strict";var n=r("5089"),o=r.n(n);o.a},f578:function(e,t,r){},f95e:function(e,t,r){},fd28:function(e,t,r){"use strict";var n=r("f95e"),o=r.n(n);o.a}});
//# sourceMappingURL=app.93481670.js.map